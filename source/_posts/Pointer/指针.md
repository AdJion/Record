---
title: C/C++指针详解
date: 2020-05-08 11:41:32
categories:
- 指针
tags:
- 指针
---

![指针](指针.png)

# 基础概念

* 1. 1个字节就会有一个内存首地址,1个字节就是一个内存块.取地址专指取内存块的首地址.内存的最小单位就是1个字节.内存块:存储的就是值,例如20,"1111"等可以让我们直接使用的值;
* 2. 变量定义时即分配内存,按照类型分配内存大小.
        ```
        char ch;//这个写法就在内存里面分配了1字节的大小,是在运行时已经分配了,但是没有用到而已,分配到哪里也不需要用户关心.
        int a;//分配4字节
        ```
* 3. 内存首地址:存储的就是类似于一个数组的下标,只不过这个下标被编译器定义了,编译器定义它,不告诉你,但是你要知道它最大(指针的大小)就是32位或者64位,32位机器使用4字节存储指针,64位机器使用8字节存储指针.
* 4. 内存首地址不是存储在内存块里面的,是CPU总线计算出来的,按照十进制表示:一般是 0-2的多少次方大小;可以使用十进制,二进制,八进制,十六进制表示.每次取地址,就计算出来这个内存首地址;内存块里面也可以存储内存首地址(也就是指针),因为内存首地址可以用十进制表示,也就是说指针是个十进制的数字而已,没有特别神奇的存储格式,仅仅是指针的含义与规则比较特殊.
* 5. 可以根据内存首地址找到对应的内存块,叫做寻址;*p(寻址)操作的是内存首地址(指针)所指向的内存块
* 6. 要把 char /int /float 等等 和 char* /int* /float* 等等类型看作是数据类型即可,int* 这个类型的优先级大于 int 的优先级
* 7. ' * '号的意义
        > 1,定义变量时,' * ' 代表的是类型(例如: int* p = 0x2498;p 就是指针类型 int* ,int是类型,int* 也是类型)        
        > 2,在使用变量时,*代表操作指针所指向的内存.意思就是 *p 指向的就是p指针变量存储的内存首地址的内存块的值.         
        > 3,' * '号在等号左边(int* p = 0xxxx;)表示在定义一块内存,' * '号操作必须操作指针变量,类型+'*'表示一个整体         
        > 4,' * '号在等号右边,表示在操作内存块里面的值,哪个内存块,取决于指针变量里面存储的指针的值.*+指针变量表示一个整体         
* 8. & 符号表示什么,如果&在指针变量之前表示什么,如果&在变量之前表示什么
* 9. 变量:变量只要定义,就会分配这个变量所对应的内存首地址以及内存块,如果没有赋值,则内存块里面没有值而已,但是内存首地址一定是被分配了而且存在的.
* 10. 指针:指针变量的值,就是内存首地址
* 11. 指针变量:存储指针的一个变量,和普通变量一样
* 12. 野指针:这个指针变量保存了一个没有意义(非法)的内存首地址,对野指针变量本身进行赋值,修改等没有问题,但是一旦对指针变量的值进行取地址操作,就会出现问题,因为是非法的.
* 13. 空指针:给指针变量赋值位NULL,NULL就是个0.
* 14. 万能指针使用的时候,需要将其转换为本身类型才能使用,例如 void* 转为 int* 才能使用
* 14. 指针运算是和其类型相关的,加减乘除的时候都要附加类型大小才可以
```

```

# 套娃
* 一级套娃
* 二级套娃
* 三级套娃
* 多级套娃
